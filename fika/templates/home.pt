<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="view.main_macro"
      i18n:domain="fika">
      
<title metal:fill-slot="page-title">${view.main_title}</title>

<body>

<h1 metal:fill-slot="heading">
	${view.main_title}
</h1>

<div metal:fill-slot="content">
    <div class="row">
        <div class="col-md-12">
        	<div tal:condition="view.userid">
        	Welcome ${view.profile.title}!<br/>
        	
			<h1>Your courses</h1>
        	<ul>
    		<tal:iterate repeat="course view.profile.enrolled_courses()">
		     	<li><a href="${request.resource_url(course)}">${course.title}</a>
			     	<tal:iterate repeat="page course.cm_pages()">
			     		<span tal:condition="page != 0">
				     		<span tal:condition="course.cm_pages().get(page) in view.profile.completed_course_modules | nothing" class="glyphicon glyphicon-ok-sign"></span>
							<span tal:condition="not:course.cm_pages().get(page) in view.profile.completed_course_modules | nothing" class="glyphicon glyphicon-unchecked"></span>
						</span>
			     	</tal:iterate>
		     	</li>
			</tal:iterate>
			</ul>
			</div>
			
			<div tal:condition="not:view.userid">
				Welcome to Fika. Please <a href="/login">log in</a> to see your courses.
			</div>
        </div>
    </div>
</div>

</body>
</html>
